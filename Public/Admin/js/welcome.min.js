$(function(){
	$('.do-refresh').click(function(){
		window.location.reload();
	});
	$('.do-search').click(function(){
		$('#condition-search').toggle();
	})
	//跳转分页效果
	$('.page_jump').on('click',function(){
		var jump_num = Number($(this).prev('input').val());
		var page_search = $(this).prev().prev('input').attr('page_search');
		var href = $(this).prev().prev('input').attr('rel');
		var page_num = Number($(this).prev().prev('input').attr('page_num'));
		if((/^(\+|-)?\d+$/.test( jump_num ))&&jump_num>0){
			if(jump_num>page_num)
			{
				alert("跳转页数过大！");
				return false;  
			}
		}else{  
			alert("跳转页请输入正整数！");
			return false;  
		}
		if(page_search)
		{
			href += '&'+page_search;
		}
		href += '&p='+jump_num+'&current_p='+jump_num;
		document.location.href=href;
	})
})
